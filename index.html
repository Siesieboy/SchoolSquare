<!DOCTYPE html>
<html lang="nl" data-theme="light">
<head>
<meta charset="UTF-8">
 <link rel="icon" type="image/png" href="SchoolSquareFavicon.png">
<title>SchoolSquare</title>

<style>
/* ================= THEME ================= */
html[data-theme="light"] {
  --bg: #f4f7fb;
  --panel: #ffffff;
  --card: #ffffff;
  --accent: #1e88ff;
  --accent-soft: rgba(30,136,255,0.12);
  --text: #0f172a;
  --muted: #64748b;
  --border: rgba(15,23,42,0.08);
}

html[data-theme="dark"] {
  --bg: #0b0f1a;
  --panel: #111827;
  --card: #111827;
  --accent: #4ea1ff;
  --accent-soft: rgba(78,161,255,0.18);
  --text: #e5e7eb;
  --muted: #9ca3af;
  --border: rgba(255,255,255,0.08);
}

/* ================= GLOBAL ================= */
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background: var(--bg);
  color: var(--text);
  transition:
    background-color .45s ease,
    color .45s ease;
}

body.theme-animate * {
  transition:
    background-color .45s ease,
    color .45s ease,
    box-shadow .45s ease,
    border-color .45s ease,
    transform .25s ease;
}

.app {
  max-width: 1300px;
  margin: auto;
  padding: 32px;
}

/* ================= HERO ================= */
.hero {
  background: linear-gradient(135deg, var(--accent), #5bb2ff);
  border-radius: 26px;
  padding: 28px 32px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: white;
  box-shadow: 0 20px 50px rgba(0,0,0,.25);
}

.clock-time { font-size: 42px; font-weight: 700; }

.theme-btn {
  margin-top: 10px;
  background: rgba(255,255,255,.2);
  border: none;
  color: white;
  padding: 8px 14px;
  border-radius: 12px;
  cursor: pointer;
}

/* ================= NAV ================= */
.nav {
  display: flex;
  gap: 12px;
  margin: 32px 0;
  flex-wrap: wrap;
}

.nav button {
  background: var(--panel);
  border: 1px solid var(--border);
  padding: 12px 18px;
  border-radius: 14px;
  cursor: pointer;
  color: var(--text);
}

.nav button.active {
  background: var(--accent-soft);
  color: var(--accent);
  border-color: var(--accent);
}

/* ================= SECTIONS ================= */
.section { display: none; }
.section.active { display: block; }

/* ================= STATS ================= */
.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 18px;
  margin-bottom: 28px;
}

.stat {
  background: var(--card);
  border-radius: 18px;
  padding: 22px;
  border: 1px solid var(--border);
}

.stat h2 { margin: 0; font-size: 32px; }

/* ================= CARDS ================= */
.card {
  background: var(--card);
  border-radius: 18px;
  padding: 24px;
  border: 1px solid var(--border);
  margin-bottom: 22px;
}

/* ================= INPUTS ================= */
input, textarea {
  width: 100%;
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  padding: 14px;
  border-radius: 14px;
  font-size: 16px;
  margin-bottom: 14px;
}

input:focus, textarea:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--accent-soft);
}

/* ================= BUTTON ================= */
.btn {
  background: var(--accent);
  color: white;
  border: none;
  padding: 14px 22px;
  border-radius: 14px;
  cursor: pointer;
  font-weight: 600;
}

/* ================= GRID ================= */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
  gap: 16px;
}

.toets {
  background: var(--panel);
  border-radius: 16px;
  padding: 18px;
  border: 1px solid var(--border);
}

/* ================= FLASHCARDS ================= */
.flashcard {
  background: var(--card);
  color: var(--text);
  border-radius: 18px;
  padding: 22px;
  border: 1px solid var(--border);
  cursor: pointer;
  min-height: 140px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.flashcard:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 30px rgba(0,0,0,.15);
}

.flashcard .answer { display: none; color: var(--muted); }
.flashcard.active .question { display: none; }
.flashcard.active .answer { display: block; }

/* ================= MOBILE ================= */
@media (max-width: 768px) {
  .hero {
    flex-direction: column;
    gap: 18px;
    text-align: center;
  }
}
</style>
</head>

<body>
<div class="app">

<div class="hero">
  <div>
    <h1 id="groet">Hallo</h1>
    <p>Welkom terug üëã</p>
  </div>
  <div>
    <div class="clock-time" id="time">--:--</div>
    <div class="clock-date" id="date"></div>
    <button id="themeToggle" class="theme-btn">üåô</button>
  </div>
</div>

<div class="nav">
  <button class="active" onclick="show('dashboard',this)">Dashboard</button>
  <button onclick="show('cijfers',this)">Cijfers</button>
  <button onclick="show('overhoren',this)">Overhoren</button>
</div>

<div id="dashboard" class="section active">
  <div class="stats">
    <div class="stat"><h2 id="open">0</h2><span>Open toetsen</span></div>
    <div class="stat"><h2 id="dagen">0</h2><span>Dagen tot eerstvolgende</span></div>
  </div>

  <div class="card">
    <h3>üìÖ Toets toevoegen</h3>
    <input id="naam" placeholder="Toetsnaam">
    <input id="datum" type="date">
    <textarea id="notitie" placeholder="Notities / leerstof"></textarea>
    <button class="btn" onclick="addToets()">Toevoegen</button>
  </div>

  <div class="grid" id="toetsen"></div>
</div>

<div id="cijfers" class="section">
  <div class="card">
    <h3>üìä Cijfercalculator</h3>
    <input id="huidig" placeholder="Huidig gemiddelde">
    <input id="weging" placeholder="Weging">
    <input id="doel" placeholder="Doel">
    <button class="btn" onclick="bereken()">Bereken</button>
    <p id="resultaat"></p>
  </div>
</div>

<div id="overhoren" class="section">
  <div class="card">
    <h3>üß† Overhoren (flashcards)</h3>
    <textarea id="leerstof" placeholder="Plak hier je leerstof"></textarea>
    <button class="btn" onclick="genereerFlashcards()">Genereer vragen</button>
  </div>
  <div class="grid" id="flashcards"></div>
</div>

</div>

<script>
/* ================= CLOCK ================= */
function updateClock(){
  const d=new Date();
  time.textContent=d.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit"});
  date.textContent=d.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long"});
  groet.textContent=d.getHours()<12?"Goedemorgen":d.getHours()<18?"Goedemiddag":"Goedenavond";
}
setInterval(updateClock,1000); updateClock();

/* ================= THEME SWITCH (ANIMATED) ================= */
const toggle = document.getElementById("themeToggle");
const html = document.documentElement;
const body = document.body;

const saved = localStorage.getItem("theme") || "light";
html.dataset.theme = saved;
toggle.textContent = saved === "dark" ? "‚òÄÔ∏è" : "üåô";

toggle.onclick = () => {
  body.classList.add("theme-animate");

  const next = html.dataset.theme === "dark" ? "light" : "dark";
  html.dataset.theme = next;
  localStorage.setItem("theme", next);
  toggle.textContent = next === "dark" ? "‚òÄÔ∏è" : "üåô";

  setTimeout(() => body.classList.remove("theme-animate"), 500);
};

/* ================= NAV ================= */
function show(id,btn){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll(".nav button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  btn.classList.add("active");
}

/* ================= FLASHCARDS ================= */
function genereerFlashcards(){
  const tekst = leerstof.value.trim();
  const container = document.getElementById("flashcards");
  container.innerHTML="";

  if(tekst.length<40) return alert("Plak iets meer leerstof");

  tekst.split(/[.!?\n]/)
    .filter(z=>z.length>20)
    .slice(0,25)
    .forEach(z=>{
      const div=document.createElement("div");
      div.className="flashcard";
      div.innerHTML=`<div class="question">‚ùì ${z}</div><div class="answer">‚úÖ ${z}</div>`;
      div.onclick=()=>div.classList.toggle("active");
      container.appendChild(div);
    });
}
</script>
</body>
</html>
